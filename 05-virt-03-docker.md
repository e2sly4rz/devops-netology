
# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

ОТВЕТ: https://hub.docker.com/r/e2sly4rz/netology

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

**- Высоконагруженное монолитное java веб-приложение;**

>Физ. сервер
>
>В случае с высокой нагрузкой контейнеризация или виртуалтзация не позволит максимально рационально утилизировать ресурсы.

**- Nodejs веб-приложение;**

>Docker контейнер
>
>Для простого web-приложения виртуализация и физ. сервер будет избыточно.
>Использование контейнеризации дополнительно позволит упростить миграцию и масштабирование.

**- Мобильное приложение c версиями для Android и iOS;**

>Затрудняюсь ответить, но скорее всего нет т.к. не уверен в возможной интеграции Docker с мобильными ОС.
>
>Выбрал бы виртуализацию.

**- Шина данных на базе Apache Kafka;**

>С функционалом не знаком, но приличное количество проектов реализовано через контейнеры.

**- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;**

>Docker или виртуализация.
>Но в Docker проще работать с кластерами как мне кажется.

**- Мониторинг-стек на базе Prometheus и Grafana;**

>node_exporter на сервер, остальное в контейнеры.

**- MongoDB, как основное хранилище данных для java-приложения;**

>Docker. Даже есть офиц. образ.
>Главное правильно реализовать хранение чтобы не потерять данные в случае отключения.
>Виртуалтзация в целом тоже подойдет, а вот физ сервер будет избыточен.

**- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.**

>Виртуализация т.к. не требует оперативного масштабирования.

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

```bash
asm@asm-pc:~/Документы$ sudo docker run -i --rm -d --name centos -v $(pwd)/data:/data centos
asm@asm-pc:~/Документы$ sudo docker run -i --rm -d --name debian -v $(pwd)/data:/data debian

asm@asm-pc:~/Документы$ sudo docker exec -i centos bash
echo "Centos" > /data/test.md
exit

asm@asm-pc:~/Документы$ echo "Host" > ./data/host.md

asm@asm-pc:~/Документы$ sudo docker exec -i debian bash
ls /data/
host.md
test.md

cat /data/host.md
Host

cat /data/test.md
Centos

exit
```
